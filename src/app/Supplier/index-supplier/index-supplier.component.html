<div class="container">

    <h1>Supplier</h1>

    <div class="container">
        <span><button type="button" mat-raised-button color="primary" routerLink="/supplier/addnew">Add new +</button></span>
        <span *ngIf="viewsupplier.length > 0">
          <mat-form-field appearance="outline" class="search">
            <input type="text" [(ngModel)]="searchKey" placeholder="Search suppliers..." autocomplete="off" matInput>
            <button mat-button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchKey" (click)="searchClear()"><mat-icon>close</mat-icon></button>
          </mat-form-field>
        </span>
    </div>
    
</div>


<div align="center" *ngIf="viewsupplier.length < 0">
    <img src="https://cdn.dribbble.com/users/1753953/screenshots/3818675/animasi-emptystate.gif" /><br><br>
    <h1 style="font-size: 50px; font-weight: bold; color: skyblue;">Nothing to show......</h1>
</div>

<div align="center">
  <mat-spinner  *ngIf="viewsupplier.length == 0"></mat-spinner>
</div>
  
  <div class="information" *ngIf="viewsupplier.length > 0">
      <table mat-table [dataSource]="viewsupplier | filter:searchKey | paginate: { itemsPerPage: 5, currentPage: p}" class="mat-elevation-z8 table-index">
          
            <ng-container matColumnDef="ProfilePicture">
              <th mat-header-cell *matHeaderCellDef></th>
              <td mat-cell *matCellDef="let element"><img src="{{element.profilePicture}}" id="profilePicture"></td>
            </ng-container>

            <ng-container matColumnDef="NIC">
                <th mat-header-cell *matHeaderCellDef>NIC</th>
                <td mat-cell *matCellDef="let element"><b> {{element.nic}} </b></td>
              </ng-container>

            <ng-container matColumnDef="FirstName">
                <th mat-header-cell *matHeaderCellDef>First Name</th>
                <td mat-cell *matCellDef="let element"><b> {{element.firstName}} </b></td>
            </ng-container>

            <ng-container matColumnDef="LastName">
                <th mat-header-cell *matHeaderCellDef>Last Name</th>
                <td mat-cell *matCellDef="let element"><b> {{element.lastName}} </b></td>
            </ng-container>

            <ng-container matColumnDef="PhoneNumber">
                <th mat-header-cell *matHeaderCellDef>Phone Number</th>
                <td mat-cell *matCellDef="let element"><b> {{element.phoneNumber}} </b></td>
            </ng-container>
  
            <ng-container matColumnDef="AddressNO">
              <th mat-header-cell *matHeaderCellDef>Address NO</th>
              <td mat-cell *matCellDef="let element"> {{element.addressNO}} </td>
            </ng-container>
  
            <ng-container matColumnDef="FirstAddressLine">
              <th mat-header-cell *matHeaderCellDef>First Address Line</th>
              <td mat-cell *matCellDef="let element"> {{element.firstAddressLine}} </td>
            </ng-container>
  
            <ng-container matColumnDef="SecondAddressLine">
              <th mat-header-cell *matHeaderCellDef>Second Address Line</th>
              <td mat-cell *matCellDef="let element"> {{element.secondAddressLine}} </td>
            </ng-container>
  
            <ng-container matColumnDef="City">
              <th mat-header-cell *matHeaderCellDef>City</th>
              <td mat-cell *matCellDef="let element"> {{element.city}} </td>
            </ng-container>
  
            <ng-container matColumnDef="District">
              <th mat-header-cell *matHeaderCellDef>District</th>
              <td mat-cell *matCellDef="let element"> {{element.district}} </td>
            </ng-container>
  
            <ng-container matColumnDef="AddedDate">
              <th mat-header-cell *matHeaderCellDef>Added Date</th>
              <td mat-cell *matCellDef="let element"><i> {{element.addedDate}} </i></td>
            </ng-container>
  
            <ng-container matColumnDef="Addedtime">
              <th mat-header-cell *matHeaderCellDef>Added Time</th>
              <td mat-cell *matCellDef="let element"><i> {{element.addedtime}} </i></td>
            </ng-container>
  
            <ng-container matColumnDef="Actions">
              <th mat-header-cell *matHeaderCellDef></th>
              <td align="right" mat-cell *matCellDef="let element">
                <button target="_blank" type="button" class="emailbutton btnmargin" (click)="ViewEmail(element.firstName, element.email)" mat-fab> <mat-icon>email</mat-icon> </button>
                <button type="button" class="btnmargin" routerLink="/supplier/edit/{{element.supplierID}}" mat-fab><mat-icon>edit</mat-icon></button>
                <button type="button" class="btnmargin" color="warn" (click)="DeleteSupplier(element.supplierID)" mat-fab><mat-icon>delete</mat-icon></button>
              </td>
            </ng-container>
  
          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let column; columns: columnsToDisplay"></tr>
  
      </table>

      <div class="mat-elevation-z8" id="pagination" align="center">
        <br>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>

  </div>